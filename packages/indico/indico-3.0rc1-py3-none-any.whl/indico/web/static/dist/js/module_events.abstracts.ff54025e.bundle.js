(()=>{"use strict";var e,t,a,n={78189:(e,t,a)=>{a(96901),a(84038),a(95499);var n=a(63025),i=a(60216),o=a.n(i),r=a(32735),l=a(12788),s=a(25591),c=a(13213),d=a(48060),u=a(67986),m=a(72865),p=a(43114),f=a(36323),b=a(19306),v=a(59090);const h=n.ZP.bind(null,{endpoint:"abstracts.manage_custom_boa",rules:[{args:["event_id"],converters:{event_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"abstracts",isDynamic:!1},{data:"/",isDynamic:!1},{data:"boa",isDynamic:!1},{data:"/",isDynamic:!1},{data:"custom",isDynamic:!1}]}]},"/"),g=n.ZP.bind(null,{endpoint:"abstracts.upload_boa_file",rules:[{args:["event_id"],converters:{event_id:"IntegerConverter"},defaults:{},trace:[{data:"|",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event",isDynamic:!1},{data:"/",isDynamic:!1},{data:"event_id",isDynamic:!0},{data:"/",isDynamic:!1},{data:"manage",isDynamic:!1},{data:"/",isDynamic:!1},{data:"abstracts",isDynamic:!1},{data:"/",isDynamic:!1},{data:"boa",isDynamic:!1},{data:"/",isDynamic:!1},{data:"custom",isDynamic:!1},{data:"/",isDynamic:!1},{data:"upload",isDynamic:!1}]}]},"/");function y(e){let{eventId:t,initialFile:a,hasLatex:n}=e;const[i,o]=(0,r.useState)(!1),[l,p]=(0,r.useState)(!1),[y,D]=(0,r.useState)(!1);let w;return w=n?a?b.vN.string("Manage custom PDF"):b.vN.string("Upload custom PDF"):a?b.vN.string("Manage PDF"):b.vN.string("Upload PDF"),r.createElement(r.Fragment,null,r.createElement("span",{className:"i-button "+(a?"icon-file-pdf":"icon-arrow-up"),style:{marginRight:"0.3rem"},onClick:()=>o(!0)},w),i&&r.createElement(s.l0,{onSubmit:async e=>{let{file:a}=e;try{await v.l2.post(h({event_id:t}),{file:a})}catch(e){return(0,f.qf)(e)}location.reload(),await new Promise((()=>{}))},initialValues:{file:a?a.uuid:null},subscription:{submitting:!0}},(e=>r.createElement(c.Z,{open:!0,onClose:()=>o(!1),size:"small",closeIcon:!e.submitting,closeOnEscape:!e.submitting,closeOnDimmerClick:!e.submitting},r.createElement(c.Z.Header,{content:n?b.vN.string("Manage custom Book of Abstracts"):b.vN.string("Manage Book of Abstracts")}),r.createElement(c.Z.Content,null,r.createElement(d.Z,{onSubmit:e.handleSubmit,id:"custom-boa-form"},r.createElement("div",{style:{marginBottom:"20px",textAlign:"center"}},r.createElement(m.lU,{name:"file",validExtensions:["pdf"],initialFileDetails:a,uploadURL:g({event_id:t}),required:!0,hideValidationError:!0})),r.createElement("div",{className:"description",style:{margin:"10px"}},n?r.createElement(b.vN,null,"You can upload a custom PDF for your Book of Abstracts. Please note that this overrides the autogenerated file. To switch back to the default book of abstracts you'll have to delete the custom file."):r.createElement(b.vN,null,"You can upload a PDF file with the Book of Abstracts here.")))),r.createElement(c.Z.Actions,{style:{display:"flex",justifyContent:"flex-end"}},null!==a&&r.createElement(u.Z,{style:{marginRight:"auto"},onClick:()=>D(!0),disabled:e.submitting,negative:!0},n?r.createElement(b.vN,null,"Delete custom PDF"):r.createElement(b.vN,null,"Delete current PDF")),r.createElement(u.Z,{onClick:()=>o(!1),disabled:e.submitting},r.createElement(b.vN,null,"Cancel")),r.createElement(f.Ei,{form:"custom-boa-form",label:b.vN.string("Upload BoA")}))))),r.createElement(c.Z,{open:y,onClose:()=>D(!1),size:"tiny",closeOnDimmerClick:!1},r.createElement(c.Z.Header,{content:b.vN.string("Confirm deletion")}),r.createElement(c.Z.Content,null,n?r.createElement(b.vN,null,"Do you really want to delete the custom Book of Abstracts? This will revert to the default auto-generated one."):r.createElement(b.vN,null,"Do you really want to delete the Book of Abstracts? This will disable the Book of Abstracts until you upload a new one.")),r.createElement(c.Z.Actions,null,r.createElement(u.Z,{onClick:()=>D(!1),disabled:l},r.createElement(b.vN,null,"Cancel")),r.createElement(u.Z,{negative:!0,onClick:async()=>{p(!0);try{await v.l2.delete(h({event_id:t}))}catch(e){return(0,v.zZ)(e),void p(!1)}location.reload()},disabled:l,loading:l},r.createElement(b.vN,null,"Delete")))))}y.propTypes={eventId:o().number.isRequired,hasLatex:o().bool.isRequired,initialFile:p.U},y.defaultProps={initialFile:null},document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#boa-custom-upload");if(!e)return;const t=parseInt(e.dataset.eventId,10),a=JSON.parse(e.dataset.file),n="hasLatex"in e.dataset;l.render(r.createElement(y,{eventId:t,initialFile:a,hasLatex:n}),e)}));var D,w=a(96887).default;(D=window).setupAbstractList=function(){const e=$("#abstract-list"),t=setupListGenerator({itemHandle:"tr",listItems:"#abstract-list tbody tr",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"});e.on("indico:htmlUpdated",(function(){e.find(".js-mathjax").mathJax(),w.defer(t)}))},D.setupAbstractEmailTemplatesPage=function(){$(".js-edit-tpl-dropdown").parent().dropdown(),$(".email-templates > ul").sortable({axis:"y",containment:"parent",cursor:"move",distance:2,handle:".ui-i-box-sortable-handle",items:"> li",tolerance:"pointer",forcePlaceholderSize:!0,placeholder:"regform-section-sortable-placeholder",update(){const e=$(".email-templates > ul"),t=e.find("li.email-template").map((function(e,t){return $(t).data("id")})).get();$.ajax({url:e.data("url"),method:"POST",contentType:"application/json",data:JSON.stringify({sort_order:t}),complete:IndicoUI.Dialogs.Util.progress(),error:handleAjaxError})}}),$(".email-preview-btn").on("click",(function(e){e.preventDefault();const t=$(this).data("id"),a=$(`#email-preview-btn-${t}`);a.data("visible")?(a.text($T.gettext("Show preview")),$(`#email-preview-${t}`).slideToggle(),a.data("visible",!1)):(a.text($T.gettext("Hide preview")),$(`#email-preview-${t}`).slideToggle(),a.data("visible",!0))})),$("#email-template-manager .ui-i-box-sortable-handle").on("mousedown",(function(){$(".email-preview").hide(),$(".email-preview-btn").text($T.gettext("Show preview")).data("visible",!1)})),$(".js-toggle-stop-on-match").on("click",(function(e){e.preventDefault();const t=$(this),a=!t.data("stop-on-match");t.hasClass("disabled")||$.ajax({url:t.data("href"),method:t.data("method"),data:JSON.stringify({stop_on_match:a}),dataType:"json",contentType:"application/json",error:handleAjaxError,success(){t.data("stop-on-match",a),t.toggleClass("stop-processing-enabled",a)}})}))},D.setupCallForAbstractsPage=function(e){e=$.extend({hasAbstracts:!1},e),"#submit-abstract"===location.hash&&$(document).ready((function(){$(".js-show-abstract-form").trigger("click")})),e.hasAbstracts&&setupSearchBox({itemHandle:"div.contribution-row",listItems:"#display-contribution-list div.contribution-row",term:"#search-input",state:"#filtering-state",placeholder:"#filter-placeholder"})()},D.setupAbstractJudgment=function(e){e=$.extend({trackSessionMap:{}},e),$("body").on("change","#accepted_track",(function(){const t=e.trackSessionMap[$(this).val()];$("#session").val(t||"__None")})),$("#accepted_track").trigger("change")}},20574:e=>{e.exports=jQuery}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=n,e=[],o.O=(t,a,n,i)=>{if(!a){var r=1/0;for(c=0;c<e.length;c++){for(var[a,n,i]=e[c],l=!0,s=0;s<a.length;s++)(!1&i||r>=i)&&Object.keys(o.O).every((e=>o.O[e](a[s])))?a.splice(s--,1):(l=!1,i<r&&(r=i));l&&(e.splice(c--,1),t=n())}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[a,n,i]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},a=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var i=Object.create(null);o.r(i);var r={};t=t||[null,a({}),a([]),a(a)];for(var l=2&n&&e;"object"==typeof l&&!~t.indexOf(l);l=a(l))Object.getOwnPropertyNames(l).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,o.d(i,r),i},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.e=()=>Promise.resolve(),o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.j=8549,(()=>{var e={8549:0};o.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[r,l,s]=a,c=0;for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(s)var d=s(o);for(t&&t(a);c<r.length;c++)i=r[c],o.o(e,i)&&e[i]&&e[i][0](),e[r[c]]=0;return o.O(d)},a=self.webpackChunk=self.webpackChunk||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=o.O(void 0,[5514,3044,8592],(()=>o(78189)));r=o.O(r)})();
//# sourceMappingURL=module_events.abstracts.ff54025e.bundle.js.map