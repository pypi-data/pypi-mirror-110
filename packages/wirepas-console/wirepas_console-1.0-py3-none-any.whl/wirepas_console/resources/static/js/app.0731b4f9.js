(function(e){function t(t){for(var n,o,s=t[0],i=t[1],d=t[2],r=0,b=[];r<s.length;r++)o=s[r],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&b.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);u&&u(t);while(b.length)b.shift()();return l.push.apply(l,d||[]),c()}function c(){for(var e,t=0;t<l.length;t++){for(var c=l[t],n=!0,o=1;o<c.length;o++){var i=c[o];0!==a[i]&&(n=!1)}n&&(l.splice(t--,1),e=s(s.s=c[0]))}return e}var n={},a={1:0},l=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{2:"6074028a"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.e=function(e){var t=[],c=a[e];if(0!==c)if(c)t.push(c[2]);else{var n=new Promise((function(t,n){c=a[e]=[t,n]}));t.push(c[2]=n);var l,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=o(e);var d=new Error;l=function(t){i.onerror=i.onload=null,clearTimeout(r);var c=a[e];if(0!==c){if(c){var n=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+l+")",d.name="ChunkLoadError",d.type=n,d.request=l,c[1](d)}a[e]=void 0}};var r=setTimeout((function(){l({type:"timeout",target:i})}),12e4);i.onerror=i.onload=l,document.head.appendChild(i)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(c,n,function(t){return e[t]}.bind(null,n));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var r=0;r<i.length;r++)t(i[r]);var u=d;l.push([0,0]),c()})({0:function(e,t,c){e.exports=c("2f39")},"068c":function(e,t,c){"use strict";c("e10b")},"06cd":function(e,t,c){},"13e3":function(e,t,c){"use strict";c("2720")},2720:function(e,t,c){},"2f39":function(e,t,c){"use strict";c.r(t);c("e6cf"),c("5319"),c("ddb0");var n=c("7a23"),a=(c("7d6e"),c("e54f"),c("985d"),c("31cd"),c("b05d")),l=c("436b"),o={config:{},plugins:{Dialog:l["a"]}};function s(e,t,c,a,l,o){const s=Object(n["G"])("router-view");return Object(n["y"])(),Object(n["g"])(s)}var i=Object(n["k"])({name:"App"});i.render=s;var d=i,r=c("4360"),u=c("4bde"),b=c("6c02");const j=Object(n["Q"])("data-v-ed57a0ae");Object(n["B"])("data-v-ed57a0ae");const O=Object(n["j"])("span",{class:"xs text-h5"},[Object(n["i"])(" Welcome to"),Object(n["j"])("br"),Object(n["i"])("Wirepas Console")],-1),m=Object(n["j"])("span",{class:"gt-xs text-h5"}," Welcome to Wirepas Console",-1),p=Object(n["i"])(" An MQTT connection is open. You can close it and select another one. "),f=Object(n["i"])(" Connection Name "),h=Object(n["i"])(" MQTT Host "),g=Object(n["i"])(" MQTT Port Number "),v=Object(n["i"])(" MQTT Username "),y=Object(n["i"])(" Use TLS-encrypted connection "),w=Object(n["i"])(" Please select a previously created MQTT connection or create a new one. "),k=Object(n["i"])(" No connections stored ");Object(n["z"])();const _=j(((e,t,c,a,l,o)=>{const s=Object(n["G"])("q-card-section"),i=Object(n["G"])("q-btn"),d=Object(n["G"])("q-item-section"),r=Object(n["G"])("q-item"),u=Object(n["G"])("q-item-label"),b=Object(n["G"])("q-list"),_=Object(n["G"])("q-spinner"),x=Object(n["G"])("q-inner-loading"),q=Object(n["G"])("q-card"),C=Object(n["G"])("q-page");return Object(n["y"])(),Object(n["g"])(C,{class:"flex flex-center bg-primary"},{default:j((()=>[Object(n["j"])(q,{class:"wp-card"},{default:j((()=>[Object(n["j"])(s,null,{default:j((()=>[O,m])),_:1}),e.connectionId?(Object(n["y"])(),Object(n["g"])(n["a"],{key:0},[Object(n["j"])(s,null,{default:j((()=>[p])),_:1}),Object(n["j"])(s,null,{default:j((()=>[Object(n["j"])(b,{bordered:""},{default:j((()=>[Object(n["j"])(r,{class:"wp-bg-header"},{default:j((()=>[Object(n["j"])(d,{class:"text-center"},{default:j((()=>[Object(n["j"])("div",null,[Object(n["j"])(i,{color:"accent",icon:"close",label:"Close MQTT Connection",onClick:t[1]||(t[1]=t=>e.closeConnection())})])])),_:1})])),_:1}),Object(n["j"])(r,null,{default:j((()=>[Object(n["j"])(d,null,{default:j((()=>[Object(n["j"])(u,{caption:""},{default:j((()=>[f])),_:1}),Object(n["j"])(u,null,{default:j((()=>[Object(n["i"])(Object(n["I"])(e.mqttConnection.name),1)])),_:1})])),_:1})])),_:1}),Object(n["j"])(r,null,{default:j((()=>[Object(n["j"])(d,null,{default:j((()=>[Object(n["j"])(u,{caption:""},{default:j((()=>[h])),_:1}),Object(n["j"])(u,null,{default:j((()=>[Object(n["i"])(Object(n["I"])(e.mqttConnection.host),1)])),_:1})])),_:1})])),_:1}),Object(n["j"])(r,null,{default:j((()=>[Object(n["j"])(d,null,{default:j((()=>[Object(n["j"])(u,{caption:""},{default:j((()=>[g])),_:1}),Object(n["j"])(u,null,{default:j((()=>[Object(n["i"])(Object(n["I"])(e.mqttConnection.port),1)])),_:1})])),_:1})])),_:1}),Object(n["j"])(r,null,{default:j((()=>[Object(n["j"])(d,null,{default:j((()=>[Object(n["j"])(u,{caption:""},{default:j((()=>[v])),_:1}),Object(n["j"])(u,null,{default:j((()=>[Object(n["i"])(Object(n["I"])(e.mqttConnection.username),1)])),_:1})])),_:1})])),_:1}),Object(n["j"])(r,null,{default:j((()=>[Object(n["j"])(d,null,{default:j((()=>[Object(n["j"])(u,{caption:""},{default:j((()=>[y])),_:1}),Object(n["j"])(u,null,{default:j((()=>[Object(n["i"])(Object(n["I"])(e.mqttConnection.use_tls?"Yes":"No"),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})],64)):Object(n["h"])("",!0),e.connectionId?Object(n["h"])("",!0):(Object(n["y"])(),Object(n["g"])(n["a"],{key:1},[Object(n["j"])(s,null,{default:j((()=>[w])),_:1}),Object(n["j"])(s,null,{default:j((()=>[Object(n["j"])(b,{bordered:"",separator:""},{default:j((()=>[Object(n["j"])(r,{class:"wp-bg-header"},{default:j((()=>[Object(n["j"])(d,{class:"text-center"},{default:j((()=>[Object(n["j"])("div",null,[Object(n["j"])(i,{color:"accent",icon:"add",label:"New MQTT Connection...",onClick:t[2]||(t[2]=t=>e.$router.push("mqtt-connection"))})])])),_:1})])),_:1}),0==e.connections.length?(Object(n["y"])(),Object(n["g"])(r,{key:0},{default:j((()=>[Object(n["j"])(d,{class:"text-center text-italic"},{default:j((()=>[k])),_:1})])),_:1})):Object(n["h"])("",!0),(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(e.connections,((t,c)=>(Object(n["y"])(),Object(n["g"])(r,{key:c,clickable:"",onClick:c=>e.openConnection(t)},{default:j((()=>[Object(n["j"])(d,null,{default:j((()=>[Object(n["i"])(Object(n["I"])(t.name),1)])),_:2},1024),Object(n["j"])(d,{side:""},{default:j((()=>[Object(n["j"])(i,{flat:"",round:"",icon:"delete",onClickCapture:Object(n["P"])((c=>e.deleteConnection(t)),["stop"])},null,8,["onClickCapture"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),Object(n["j"])(x,{showing:e.connectionState!=e.connectionStatesEnum.IDLE},{default:j((()=>[Object(n["j"])(_,{size:"50px",color:"secondary"})])),_:1},8,["showing"])])),_:1})],64))])),_:1})])),_:1})}));var x=c("5502"),q=c("b3fe"),C=Object(n["k"])((function(){const e=Object(b["d"])(),t=Object(q["a"])(),c=Object(x["b"])(),a=Object(n["e"])((()=>c.state.mqtt.connectionId)),l=Object(n["e"])((()=>c.state.mqtt.connections)),o=Object(n["e"])((()=>c.state.mqtt.connectionState)),s=c.state.mqtt.connectionStatesEnum,i=Object(n["e"])((()=>l.value.find((e=>e.id===a.value))));let d=!1;function r(n,a){d&&n==s.CONNECTED?(e.push("/gateways-and-sinks"),d=!1):d&&n==s.IDLE&&(t.dialog({title:"Error Connecting to host",message:"Could not connect to selected host",cancel:!1,persistent:!0,ok:{label:"Close",color:"accent",icon:"close"}}).onOk((()=>{console.log("")})),c.dispatch("mqtt/closeConnection"),d=!1)}function u(e){d=!0,c.dispatch("mqtt/openConnection",e.id)}function j(){t.dialog({title:"Confirm",message:'Close connection "'+i.value.name+'"?',cancel:!0,persistent:!0,ok:{label:"Close",color:"accent",icon:"close"},cancel:{label:"Cancel",color:"accent",icon:"cancel"}}).onOk((()=>{c.dispatch("mqtt/closeConnection")}))}function O(e){t.dialog({title:"Confirm",message:'Delete connection "'+e.name+'"?',cancel:!0,persistent:!0,ok:{label:"Delete",color:"accent",icon:"delete"},cancel:{label:"Cancel",color:"accent",icon:"cancel"}}).onOk((()=>{c.dispatch("mqtt/deleteConnection",e.id)}))}return Object(n["M"])(o,r),c.dispatch("mqtt/loadConnections"),{openConnection:u,closeConnection:j,deleteConnection:O,connectionId:a,connections:l,mqttConnection:i,connectionStatesEnum:s,connectionState:o}})),S=(c("ec2e"),c("9989")),I=c("f09f"),Q=c("a370"),V=c("1c1c"),E=c("66e5"),G=c("4074"),D=c("9c40"),T=c("0170"),A=c("74f7"),N=c("0d59"),P=c("eebe"),U=c.n(P);C.render=_,C.__scopeId="data-v-ed57a0ae";var M=C;U()(C,"components",{QPage:S["a"],QCard:I["a"],QCardSection:Q["a"],QList:V["a"],QItem:E["a"],QItemSection:G["a"],QBtn:D["a"],QItemLabel:T["a"],QInnerLoading:A["a"],QSpinner:N["a"]});const L=Object(n["Q"])("data-v-e8a45a28");Object(n["B"])("data-v-e8a45a28");const B=Object(n["j"])("span",{class:"text-h5"},"New MQTT Connection",-1),F=Object(n["j"])("div",null,"Name may contain Unicode characters and Emoji.",-1),K=Object(n["j"])("div",null," Port is typically 8883 for TSL-encrypted connections and 1883 otherwise. ",-1),H=Object(n["j"])("div",null," TLS encryption is strongly recommended on Internet-accessible servers. ",-1);Object(n["z"])();const $=L(((e,t,c,a,l,o)=>{const s=Object(n["G"])("q-card-section"),i=Object(n["G"])("q-tooltip"),d=Object(n["G"])("q-input"),r=Object(n["G"])("q-checkbox"),u=Object(n["G"])("q-btn"),b=Object(n["G"])("q-form"),j=Object(n["G"])("q-card"),O=Object(n["G"])("q-page");return Object(n["y"])(),Object(n["g"])(O,{class:"flex flex-center bg-primary"},{default:L((()=>[Object(n["j"])(j,{class:"wp-card"},{default:L((()=>[Object(n["j"])(s,null,{default:L((()=>[B])),_:1}),Object(n["j"])(b,null,{default:L((()=>[Object(n["j"])(s,{class:"q-py-sm"},{default:L((()=>[Object(n["j"])(d,{modelValue:e.mqttName,"onUpdate:modelValue":t[1]||(t[1]=t=>e.mqttName=t),clearable:"","clear-icon":"close",color:"accent",filled:"",label:"Connection Name","stack-label":"",placeholder:"A descriptive name for the connection",maxlength:"128"},{default:L((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:L((()=>[F])),_:1})])),_:1},8,["modelValue"])])),_:1}),Object(n["j"])(s,{class:"q-py-sm"},{default:L((()=>[Object(n["j"])(d,{modelValue:e.mqttHost,"onUpdate:modelValue":t[2]||(t[2]=t=>e.mqttHost=t),clearable:"","clear-icon":"close",color:"accent",filled:"",label:"MQTT Host","stack-label":"",placeholder:"Hostname or IP address",maxlength:"128"},null,8,["modelValue"])])),_:1}),Object(n["j"])(s,{class:"q-py-sm"},{default:L((()=>[Object(n["j"])(d,{modelValue:e.mqttPort,"onUpdate:modelValue":t[3]||(t[3]=t=>e.mqttPort=t),clearable:"","clear-icon":"close",color:"accent",filled:"",mask:"#####",label:"MQTT Port Number","stack-label":"",placeholder:"8883 if left empty",maxlength:"5"},{default:L((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:L((()=>[K])),_:1})])),_:1},8,["modelValue"])])),_:1}),Object(n["j"])(s,{class:"q-py-sm"},{default:L((()=>[Object(n["j"])(d,{modelValue:e.mqttUsername,"onUpdate:modelValue":t[4]||(t[4]=t=>e.mqttUsername=t),clearable:"","clear-icon":"close",color:"accent",filled:"",label:"MQTT Username","stack-label":"",placeholder:"mqttmasteruser if left empty",maxlength:"128"},null,8,["modelValue"])])),_:1}),Object(n["j"])(s,{class:"q-py-sm"},{default:L((()=>[Object(n["j"])(d,{modelValue:e.mqttPassword,"onUpdate:modelValue":t[5]||(t[5]=t=>e.mqttPassword=t),type:"password",clearable:"","clear-icon":"close",color:"accent",filled:"",label:"MQTT Password","stack-label":"",maxlength:"128"},null,8,["modelValue"])])),_:1}),Object(n["j"])(s,{class:"q-py-sm"},{default:L((()=>[Object(n["j"])(r,{modelValue:e.mqttUseTls,"onUpdate:modelValue":t[6]||(t[6]=t=>e.mqttUseTls=t),label:"Use TLS-encrypted connection",color:"secondary"},{default:L((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:L((()=>[H])),_:1})])),_:1},8,["modelValue"])])),_:1}),Object(n["j"])(s,{class:"q-pt-sm q-pb-md text-right"},{default:L((()=>[Object(n["j"])(u,{color:"accent",icon:"cancel",label:"Cancel",class:"q-mr-sm",onClick:t[7]||(t[7]=t=>e.$router.push("/"))}),Object(n["j"])(u,{disabled:0===e.mqttName.length||0===e.mqttHost.length,color:"accent",icon:"check",label:"Connect",onClick:t[8]||(t[8]=t=>e.newConnection())},null,8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})}));c("498a");var z=c("3bfb"),R=Object(n["k"])((function(){const e=Object(x["b"])(),t=Object(q["a"])(),c=Object(n["e"])((()=>e.state.mqtt.connectionId)),a=Object(n["D"])(""),l=Object(n["D"])(""),o=Object(n["D"])(""),s=Object(n["D"])(""),i=Object(n["D"])(""),d=Object(n["D"])(!0);function r(e){t.dialog({title:"Error Connecting to host",message:"Could not connect to "+e,cancel:!1,persistent:!0,ok:{label:"Close",color:"accent",icon:"close"}}).onOk((()=>{console.log("")}))}async function u(){if(c.value){await Object(z["c"])("close-mqtt",{})}const t={name:a.value.trim(),host:l.value.trim(),port:o.value.trim()?0|o.value:8883,username:s.value.trim()?s.value:"mqttmasteruser",password:i.value,use_tls:!!d.value};Object(z["c"])("add-mqtt",t).then((t=>{null!==t?(e.dispatch("mqtt/loadConnections"),this.$router.push("/gateways-and-sinks")):r(l.value.trim())}))}return{newConnection:u,mqttName:a,mqttHost:l,mqttPort:o,mqttUsername:s,mqttPassword:i,mqttUseTls:d}})),W=(c("068c"),c("0378")),J=c("27f9"),Y=c("05c0"),X=c("8f8e");R.render=$,R.__scopeId="data-v-e8a45a28";var Z=R;U()(R,"components",{QPage:S["a"],QCard:I["a"],QCardSection:Q["a"],QForm:W["a"],QInput:J["a"],QTooltip:Y["a"],QCheckbox:X["a"],QBtn:D["a"]});const ee=Object(n["j"])("div",{class:"text-h4 q-mb-lg"},"Serial Connections",-1);function te(e,t,c,a,l,o){const s=Object(n["G"])("q-page");return Object(n["y"])(),Object(n["g"])(s,{class:"flex flex-center"},{default:Object(n["N"])((()=>[ee])),_:1})}var ce=Object(n["k"])({name:"PageSerialConnection"});ce.render=te;var ne=ce;U()(ce,"components",{QPage:S["a"]});const ae=Object(n["Q"])("data-v-63d5378a");Object(n["B"])("data-v-63d5378a");const le=Object(n["j"])("span",{class:"text-h5"},"Gateways and Sinks",-1),oe=Object(n["j"])("thead",{class:"wp-text-header wp-bg-header"},[Object(n["j"])("tr",null,[Object(n["j"])("th",{class:"text-left"},"Gateway"),Object(n["j"])("th",{class:"text-left"},"Sink"),Object(n["j"])("th",{class:"text-right"},"Node address"),Object(n["j"])("th",{class:"text-right"},"Network address"),Object(n["j"])("th",{class:"text-right"},"Channel"),Object(n["j"])("th",{class:"text-left"},"Role"),Object(n["j"])("th",{class:"text-left"},"State"),Object(n["j"])("th",{class:"text-center"})])],-1),se={key:0},ie=Object(n["j"])("td",{class:"text-center text-italic",colspan:"8"},"No gateways",-1),de={key:0},re=Object(n["j"])("td",{class:"text-center text-italic",colspan:"7"},"No sinks",-1),ue={class:"text-left text-bold"},be={class:"text-left"},je={class:"text-right"},Oe={class:"text-right"},me={class:"text-right"},pe={class:"text-left"},fe={class:"text-left"},he={class:"text-center"},ge=Object(n["j"])("div",null,"Configure sink",-1);Object(n["z"])();const ve=ae(((e,t,c,a,l,o)=>{const s=Object(n["G"])("q-card-section"),i=Object(n["G"])("q-tooltip"),d=Object(n["G"])("q-btn"),r=Object(n["G"])("q-markup-table"),u=Object(n["G"])("q-spinner"),b=Object(n["G"])("q-inner-loading"),j=Object(n["G"])("q-card"),O=Object(n["G"])("q-page");return Object(n["y"])(),Object(n["g"])(O,{class:"flex flex-center bg-primary"},{default:ae((()=>[Object(n["j"])(j,{class:"wp-card"},{default:ae((()=>[Object(n["j"])(s,null,{default:ae((()=>[le])),_:1}),Object(n["j"])(s,null,{default:ae((()=>[Object(n["j"])(r,{flat:"",bordered:""},{default:ae((()=>[oe,Object(n["j"])("tbody",null,[0==e.gateways.length?(Object(n["y"])(),Object(n["g"])("tr",se,[ie])):Object(n["h"])("",!0),(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(e.gateways,(t=>(Object(n["y"])(),Object(n["g"])(n["a"],{key:t.gw_id},[0==t.sinks.length?(Object(n["y"])(),Object(n["g"])("tr",de,[Object(n["j"])("td",null,Object(n["I"])(t.gw_id),1),re])):Object(n["h"])("",!0),(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(t.sinks,((t,c)=>(Object(n["y"])(),Object(n["g"])("tr",{key:t.sink_id},[Object(n["j"])("td",ue,Object(n["I"])(0==c?t.gw_id:""),1),Object(n["j"])("td",be,Object(n["I"])(t.sink_id),1),Object(n["j"])("td",je,Object(n["I"])("0x"+("00000000"+t.address.toString(16)).slice(-8)),1),Object(n["j"])("td",Oe,Object(n["I"])("0x"+("00000000"+t.nw_address.toString(16)).slice(-8)),1),Object(n["j"])("td",me,Object(n["I"])(t.nw_channel),1),Object(n["j"])("td",pe,Object(n["I"])("sink"==t.role?e.roleOptions[1]:e.roleOptions[0]),1),Object(n["j"])("td",fe,Object(n["I"])(t.is_started?"Started":"Stopped"),1),Object(n["j"])("td",he,[Object(n["j"])(d,{flat:"",round:"",icon:"settings",onClick:c=>e.configureSink(t)},{default:ae((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:ae((()=>[ge])),_:1})])),_:2},1032,["onClick"])])])))),128))],64)))),128))])])),_:1}),Object(n["j"])(b,{showing:e.connectionState!=e.connectionStatesEnum.IDLE},{default:ae((()=>[Object(n["j"])(u,{size:"50px",color:"secondary"})])),_:1},8,["showing"])])),_:1}),Object(n["j"])(s,{class:"q-pt-sm q-pb-md text-right"},{default:ae((()=>[Object(n["j"])(d,{label:"Continue",color:"accent",icon:"arrow_right",onClick:t[1]||(t[1]=t=>e.$router.push("messages"))})])),_:1})])),_:1})])),_:1})}));var ye=Object(n["k"])((function(){const e=Object(x["b"])(),t=Object(n["e"])((()=>e.state.mqtt.gateways)),c=Object(n["e"])((()=>e.state.mqtt.connectionState)),a=e.state.mqtt.connectionStatesEnum,l=["Low-latency","Low-energy"];function o(e){this.$router.push("/gateways-and-sinks/config/"+e.gw_id+"/"+e.sink_id)}return e.dispatch("mqtt/loadGatewaysAndSinks"),{configureSink:o,gateways:t,connectionStatesEnum:a,connectionState:c,roleOptions:l}})),we=(c("723b"),c("2bb1"));ye.render=ve,ye.__scopeId="data-v-63d5378a";var ke=ye;U()(ye,"components",{QPage:S["a"],QCard:I["a"],QCardSection:Q["a"],QMarkupTable:we["a"],QBtn:D["a"],QTooltip:Y["a"],QInnerLoading:A["a"],QSpinner:N["a"]});const _e=Object(n["Q"])("data-v-6a7e0ea3");Object(n["B"])("data-v-6a7e0ea3");const xe=Object(n["j"])("span",{class:"text-h5"},"Configure Sink",-1),qe={class:"row"},Ce={class:"col-6 q-pa-sm"},Se=Object(n["i"])(" Unique name of the gateway "),Ie={class:"col-6 q-pa-sm"},Qe=Object(n["j"])("div",null,"Identifier of a sink connected to the gateway",-1),Ve=Object(n["j"])("div",{class:"q-pt-sm"},[Object(n["i"])(" This is usually in the form "),Object(n["j"])("span",{class:"text-italic"},"sink0"),Object(n["i"])(", "),Object(n["j"])("span",{class:"text-italic"},"sink1"),Object(n["i"])(", ... ")],-1),Ee={class:"col-6 q-pa-sm"},Ge=Object(n["j"])("div",null,"Current state of the sink",-1),De=Object(n["j"])("div",{class:"q-pt-sm"},"A stopped sink will be offline.",-1),Te={class:"col-6 q-pa-sm"},Ae=Object(n["j"])("div",null,"New state of the sink",-1),Ne=Object(n["j"])("div",{class:"q-pt-sm"},"A stopped sink will be offline.",-1),Pe={class:"col-6 q-pa-sm"},Ue=Object(n["j"])("div",null," Each node, including sinks, must have a unique address within the Wirepas network. ",-1),Me=Object(n["j"])("div",{class:"q-pt-sm"}," Range: 0x00000001..0x7FFFFFFF (1..2147483647) ",-1),Le={class:"col-6 q-pa-sm"},Be=Object(n["j"])("div",null," All nodes and sinks in the network must have the same network address set. ",-1),Fe=Object(n["j"])("div",{class:"q-pt-sm"}," Range: 0x000001..0xFFFFFE (1..16777214) ",-1),Ke=Object(n["j"])("div",{class:"q-pt-sm"}," Avoid network addresses that have repeating bit patterns, e.g. 0x55 or 0xAA or long runs of constant bits. ",-1),He={class:"col-6 q-pa-sm"},$e=Object(n["j"])("div",null," All nodes and sinks in the network must have the same network channel set. ",-1),ze=Object(n["j"])("div",{class:"q-pt-sm"},"Range: 1..40",-1),Re={class:"col-6 q-pa-sm"},We=Object(n["j"])("div",null," Sinks are usually set to the low-latency mode, as routing capacity is much higher in this mode, compared to the low-energy mode. ",-1),Je=Object(n["j"])("div",{class:"q-pt-sm"}," Only the sink-spesific roles are supported here. It is not possible to connect a headnode or subnode directly to a gateway. ",-1),Ye={class:"col-12 q-pa-sm"},Xe=Object(n["j"])("div",null," All nodes and sinks in the network must have the same authentication key set. Leaving out the key will disable authentication and encryption of radio packets in the network. ",-1),Ze=Object(n["j"])("div",{class:"q-pt-sm"}," The key is 128 bits or 16 bytes in length. Key format is 16 bytes of two hexadecimal digits each, optionally separated by whitespace. ",-1),et=Object(n["j"])("div",{class:"q-pt-sm"},"Examples:",-1),tt=Object(n["j"])("div",{class:"q-pt-sm"}," 01 23 45 67 89 AB CD EF FE DC BA 98 76 54 32 10 ",-1),ct=Object(n["j"])("div",null,"0123456789ABCDEFFEDCBA9876543210",-1),nt={class:"col-12 q-pa-sm"},at=Object(n["j"])("div",null," All nodes and sinks in the network must have the same encryption key set. Leaving out the key will disable authentication and encryption of radio packets in the network. ",-1),lt=Object(n["j"])("div",{class:"q-pt-sm"}," The key is 128 bits or 16 bytes in length. Key format is 16 bytes of two hexadecimal digits each, optionally separated by whitespace. ",-1),ot=Object(n["j"])("div",{class:"q-pt-sm"},"Examples:",-1),st=Object(n["j"])("div",{class:"q-pt-sm"}," 01 23 45 67 89 AB CD EF FE DC BA 98 76 54 32 10 ",-1),it=Object(n["j"])("div",null,"0123456789ABCDEFFEDCBA9876543210",-1);Object(n["z"])();const dt=_e(((e,t,c,a,l,o)=>{const s=Object(n["G"])("q-card-section"),i=Object(n["G"])("q-tooltip"),d=Object(n["G"])("q-input"),r=Object(n["G"])("q-select"),u=Object(n["G"])("dec-hex-input"),b=Object(n["G"])("q-btn"),j=Object(n["G"])("q-form"),O=Object(n["G"])("q-card"),m=Object(n["G"])("q-page");return Object(n["y"])(),Object(n["g"])(m,{class:"flex flex-center bg-primary"},{default:_e((()=>[Object(n["j"])(O,{class:"wp-card"},{default:_e((()=>[Object(n["j"])(s,null,{default:_e((()=>[xe])),_:1}),Object(n["j"])(j,null,{default:_e((()=>[Object(n["j"])(s,{class:"q-py-sm"},{default:_e((()=>[Object(n["j"])("div",qe,[Object(n["j"])("div",Ce,[Object(n["j"])(d,{modelValue:e.gwId,"onUpdate:modelValue":t[1]||(t[1]=t=>e.gwId=t),readonly:"",borderless:"",color:"accent",dense:"",label:"Gateway","stack-label":"",placeholder:"",maxlength:"128"},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[Se])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",Ie,[Object(n["j"])(d,{modelValue:e.sinkId,"onUpdate:modelValue":t[2]||(t[2]=t=>e.sinkId=t),readonly:"",borderless:"",color:"accent",dense:"",label:"Sink","stack-label":"",placeholder:"",maxlength:"128"},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[Qe,Ve])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",Ee,[Object(n["j"])(r,{modelValue:e.sinkState,"onUpdate:modelValue":t[3]||(t[3]=t=>e.sinkState=t),readonly:"",borderless:"","hide-dropdown-icon":"",color:"accent",label:"Sink State","stack-label":"",options:e.startOptions},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[Ge,De])),_:1})])),_:1},8,["modelValue","options"])]),Object(n["j"])("div",Te,[Object(n["j"])(r,{modelValue:e.isStarted,"onUpdate:modelValue":t[4]||(t[4]=t=>e.isStarted=t),filled:"",color:"accent",label:"New Sink State","stack-label":"",options:e.startOptions},{default:_e((()=>[Object(n["j"])(i,{anchor:"top middle",self:"bottom middle","max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[Ae,Ne])),_:1})])),_:1},8,["modelValue","options"])]),Object(n["j"])("div",Pe,[Object(n["j"])(u,{modelValue:e.address,"onUpdate:modelValue":t[5]||(t[5]=t=>e.address=t),color:"accent",label:"Node Address",placeholder:"",maxlength:"10"},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[Ue,Me])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",Le,[Object(n["j"])(u,{modelValue:e.networkAddress,"onUpdate:modelValue":t[6]||(t[6]=t=>e.networkAddress=t),color:"accent",label:"Network Address",placeholder:"",maxlength:"10"},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[Be,Fe,Ke])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",He,[Object(n["j"])(d,{modelValue:e.networkChannel,"onUpdate:modelValue":t[7]||(t[7]=t=>e.networkChannel=t),clearable:"","clear-icon":"close",color:"accent",filled:"",mask:"####",label:"Network Channel","stack-label":"",placeholder:"",maxlength:"4"},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[$e,ze])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",Re,[Object(n["j"])(r,{modelValue:e.role,"onUpdate:modelValue":t[8]||(t[8]=t=>e.role=t),filled:"",color:"accent",label:"Node Role","stack-label":"",options:e.roleOptions},{default:_e((()=>[Object(n["j"])(i,{anchor:"top middle",self:"bottom middle","max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[We,Je])),_:1})])),_:1},8,["modelValue","options"])]),Object(n["j"])("div",Ye,[Object(n["j"])(d,{modelValue:e.authenticationKey,"onUpdate:modelValue":t[9]||(t[9]=t=>e.authenticationKey=t),clearable:"","clear-icon":"close",color:"accent",filled:"",label:"Authentication Key","stack-label":"",placeholder:"",maxlength:"48"},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[Xe,Ze,et,tt,ct])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",nt,[Object(n["j"])(d,{modelValue:e.encryptionKey,"onUpdate:modelValue":t[10]||(t[10]=t=>e.encryptionKey=t),clearable:"","clear-icon":"close",color:"accent",filled:"",label:"Encryption Key","stack-label":"",placeholder:"",maxlength:"48"},{default:_e((()=>[Object(n["j"])(i,{"max-width":"20rem",class:"bg-secondary"},{default:_e((()=>[at,lt,ot,st,it])),_:1})])),_:1},8,["modelValue"])])])])),_:1}),Object(n["j"])(s,{class:"q-pt-sm q-pb-md text-right"},{default:_e((()=>[Object(n["j"])(b,{color:"accent",icon:"cancel",label:"Cancel",class:"q-mr-sm",onClick:t[11]||(t[11]=t=>e.$router.push("/gateways-and-sinks"))}),Object(n["j"])(b,{disabled:0===e.address.length||0===e.networkAddress.length||0===e.networkChannel.length,color:"accent",icon:"done",label:"Apply",onClick:t[12]||(t[12]=t=>e.configureSink())},null,8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})}));function rt(e,t,c,a,l,o){const s=Object(n["G"])("q-btn"),i=Object(n["G"])("q-input");return Object(n["y"])(),Object(n["g"])(i,{key:e.hexMode,modelValue:e.value,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.value=t),t[3]||(t[3]=t=>e.updateInputHandler(this,e.value))],clearable:"","clear-icon":"close",color:e.color,filled:"",mask:(e.hexMode?"X":"#").repeat(e.maxlength),label:e.label,"stack-label":"",prefix:e.hexMode?"0x":"",placeholder:e.placeholder,maxlength:e.maxlength},{append:Object(n["N"])((()=>[Object(n["j"])(s,{size:"xs",unelevated:"",rounded:"",color:"grey-8","text-color":"white",onClick:t[1]||(t[1]=t=>e.setBase(!e.hexMode))},{default:Object(n["N"])((()=>[Object(n["i"])(Object(n["I"])(e.hexMode?"hex":"dec"),1)])),_:1})])),default:Object(n["N"])((()=>[Object(n["F"])(e.$slots,"default")])),_:3},8,["modelValue","color","mask","label","prefix","placeholder","maxlength"])}var ut=Object(n["k"])({components:{},props:{modelValue:{type:[String,Number],required:!0},color:{type:String,default:""},label:{type:String,default:""},placeholder:{type:[String,Number],default:""},maxlength:{type:[String,Number],default:10}},emits:["update:modelValue"],setup(e){const{modelValue:t}=Object(n["K"])(e),c=Object(n["D"])(""),a=Object(n["D"])(!1),l=e=>{if(!e)return void(c.value="");const t=""+e;t.toLowerCase().startsWith("0x")?(a.value=!0,c.value=t.substr(2)):(a.value=!1,c.value=t)},o=e=>{if(c.value){const t=parseInt((a.value?"0x":"")+c.value);a.value=e,c.value=t.toString(a.value?16:10)}else a.value=e},s=(e,t)=>{t||(t=""),e.$emit("update:modelValue",(a.value?"0x":"")+t)};return Object(n["M"])(t,((e,t)=>{l(e),o(a.value)})),l(t.value),o(a.value),{setBase:o,updateInputHandler:s,value:c,hexMode:a}}});ut.render=rt;var bt=ut;U()(ut,"components",{QInput:J["a"],QBtn:D["a"]});c("f644");var jt=Object(n["k"])({components:{DecHexInput:bt},props:{},setup(e){const t=Object(b["c"])(),c=(Object(x["b"])(),Object(q["a"])(),Object(n["D"])(t.params.gw)),a=Object(n["D"])(t.params.sink),l=Object(n["D"])(""),o=Object(n["D"])(""),s=Object(n["D"])(""),i=Object(n["D"])(""),d=Object(n["D"])(""),r=Object(n["D"])(""),u=Object(n["D"])(""),j=Object(n["D"])("Unknown"),O=["Low-latency sink","Low-energy sink"],m=["Started","Stopped"],p="•• ".repeat(16);async function f(){let e={};d.value!=p&&(e.authentication=d.value),r.value!=p&&(e.encryption=r.value);const t={gw_id:c.value,sink_id:a.value,config:{address:0|parseInt(l.value),nw_address:0|parseInt(o.value),nw_channel:0|parseInt(s.value),role:i.value==O[1]?"sink":"sink+ll",keys:e,is_started:u.value==m[0],app_config:{seq:0,data:"",diag_interval_s:0}}},n=Object(z["c"])("configure-sink",t);n&&this.$router.push("/gateways-and-sinks")}async function h(){const e=await Object(z["a"])("get-sinks?gw="+c.value);if(e){const t=e.sinks.find((e=>e.gw_id===c.value&&e.sink_id===a.value));t&&(l.value=t.address,o.value="0x"+("00000000"+t.nw_address.toString(16)).slice(-8),s.value=t.nw_channel,"sink"==t.role?i.value=O[1]:i.value=O[0],""===t.keys.authentication?d.value="":d.value=p,""===t.keys.encryption?r.value="":r.value=p,u.value=t.is_started?m[0]:m[1],j.value=u.value)}}return h(),{configureSink:f,gwId:c,sinkId:a,address:l,networkAddress:o,networkChannel:s,role:i,authenticationKey:d,encryptionKey:r,isStarted:u,sinkState:j,roleOptions:O,startOptions:m}}}),Ot=(c("6f91"),c("ddd8"));jt.render=dt,jt.__scopeId="data-v-6a7e0ea3";var mt=jt;U()(jt,"components",{QPage:S["a"],QCard:I["a"],QCardSection:Q["a"],QForm:W["a"],QInput:J["a"],QTooltip:Y["a"],QSelect:Ot["a"],QBtn:D["a"]});const pt=Object(n["Q"])("data-v-c6450770");Object(n["B"])("data-v-c6450770");const ft={class:"\n            fit\n            column\n            q-col-gutter-sm\n            no-wrap\n            justify-start\n            items-stretch\n            content-stretch\n          "},ht={class:"fit row"},gt={class:"row q-col-gutter-sm"},vt={class:"col"},yt=Object(n["j"])("div",null," Up to 102 bytes of data, two hexadecimal digits each, optionally separated by whitespace ",-1),wt=Object(n["j"])("div",{class:"q-pt-sm"},"Examples:",-1),kt=Object(n["j"])("div",{class:"q-pt-sm"}," 00 04 89 AB CD EF (Remote API Ping request) ",-1),_t=Object(n["j"])("div",null,"000489ABCDEF",-1),xt={class:"col-auto"},qt={class:"row q-col-gutter-sm"},Ct={class:"col-3"},St=Object(n["j"])("div",null,[Object(n["i"])(" Destination unicast or multicast address or a special value of "),Object(n["j"])("span",{class:"text-italic"},"broadcast"),Object(n["i"])(" or "),Object(n["j"])("span",{class:"text-italic"},"all"),Object(n["i"])(" for broadcasting to all nodes in the network, or "),Object(n["j"])("span",{class:"text-italic"},"sink"),Object(n["i"])(" for sending to the AnySink address ")],-1),It=Object(n["j"])("div",{class:"q-pt-sm"},[Object(n["i"])(" Node addresses may be in hexadecimal format by preceding them with "),Object(n["j"])("span",{class:"text-italic"},"0x"),Object(n["i"])(". ")],-1),Qt={class:"col-2"},Vt=Object(n["j"])("div",null,"Range: 0..255",-1),Et=Object(n["j"])("div",{class:"q-pt-sm"}," Endpoints ≥240 reserved for Wirepas use ",-1),Gt={class:"col-2"},Dt=Object(n["j"])("div",null,"Range: 0..255",-1),Tt=Object(n["j"])("div",{class:"q-pt-sm"}," Endpoints ≥240 reserved for Wirepas use ",-1),At={class:"col-3"},Nt=Object(n["j"])("div",null," Deselect to stop scrolling. Packets keep being collected in the background. ",-1);Object(n["z"])();const Pt=pt(((e,t,c,a,l,o)=>{const s=Object(n["G"])("MessageList"),i=Object(n["G"])("q-tooltip"),d=Object(n["G"])("q-input"),r=Object(n["G"])("q-btn"),u=Object(n["G"])("q-select"),b=Object(n["G"])("q-checkbox"),j=Object(n["G"])("q-card-section"),O=Object(n["G"])("q-card"),m=Object(n["G"])("q-page");return Object(n["y"])(),Object(n["g"])(m,{class:"flex flex-center bg-primary"},{default:pt((()=>[Object(n["j"])(O,{class:"wp-card"},{default:pt((()=>[Object(n["j"])(j,{class:"fit"},{default:pt((()=>[Object(n["j"])("div",ft,[Object(n["j"])("div",ht,[Object(n["j"])(s)]),Object(n["j"])("div",gt,[Object(n["j"])("div",vt,[Object(n["j"])(d,{modelValue:e.dataToSend,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dataToSend=t),clearable:"","clear-icon":"close",color:"accent",filled:"",dense:"",label:"Data to Send","stack-label":"",placeholder:"Data in hex format",maxlength:"256"},{default:pt((()=>[Object(n["j"])(i,{anchor:"top middle",self:"bottom middle","max-width":"20rem",class:"bg-secondary"},{default:pt((()=>[yt,wt,kt,_t])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",xt,[Object(n["j"])(r,{disabled:0==e.autoscroll,color:"accent",icon:"send",label:"Send",onClick:t[2]||(t[2]=t=>e.sendData())},null,8,["disabled"])])]),Object(n["j"])("div",qt,[Object(n["j"])("div",Ct,[Object(n["j"])(d,{modelValue:e.destAddress,"onUpdate:modelValue":t[3]||(t[3]=t=>e.destAddress=t),clearable:"","clear-icon":"close",color:"accent",filled:"",dense:"",label:"Destination Address","stack-label":"",placeholder:"broadcast",maxlength:"10"},{default:pt((()=>[Object(n["j"])(i,{anchor:"top middle",self:"bottom middle","max-width":"20rem",class:"bg-secondary"},{default:pt((()=>[St,It])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",Qt,[Object(n["j"])(d,{modelValue:e.srcEndpoint,"onUpdate:modelValue":t[4]||(t[4]=t=>e.srcEndpoint=t),clearable:"","clear-icon":"close",color:"accent",filled:"",dense:"",label:"Source Endpoint","stack-label":"",placeholder:"0",maxlength:"5"},{default:pt((()=>[Object(n["j"])(i,{anchor:"top middle",self:"bottom middle","max-width":"20rem",class:"bg-secondary"},{default:pt((()=>[Vt,Et])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",Gt,[Object(n["j"])(d,{modelValue:e.destEndpoint,"onUpdate:modelValue":t[5]||(t[5]=t=>e.destEndpoint=t),clearable:"","clear-icon":"close",color:"accent",filled:"",dense:"",label:"Dest Endpoint","stack-label":"",placeholder:"0",maxlength:"5"},{default:pt((()=>[Object(n["j"])(i,{anchor:"top middle",self:"bottom middle","max-width":"20rem",class:"bg-secondary"},{default:pt((()=>[Dt,Tt])),_:1})])),_:1},8,["modelValue"])]),Object(n["j"])("div",At,[Object(n["j"])(u,{modelValue:e.QoS,"onUpdate:modelValue":t[6]||(t[6]=t=>e.QoS=t),filled:"",dense:"",color:"accent",label:"Quality of Service","stack-label":"",options:e.QoSOptions},null,8,["modelValue","options"])]),Object(n["j"])(j,{class:"q-py-sm"},{default:pt((()=>[Object(n["j"])(b,{modelValue:e.autoscroll,"onUpdate:modelValue":t[7]||(t[7]=t=>e.autoscroll=t),label:"Autoscroll",color:"secondary"},{default:pt((()=>[Object(n["j"])(i,{anchor:"top middle",self:"bottom middle","max-width":"20rem",class:"bg-secondary"},{default:pt((()=>[Nt])),_:1})])),_:1},8,["modelValue"])])),_:1})])])])),_:1})])),_:1})])),_:1})})),Ut=Object(n["Q"])("data-v-5ef2e39a");Object(n["B"])("data-v-5ef2e39a");const Mt={class:"fit wp-msg-container"},Lt={class:"text-subtitle2"},Bt=Object(n["j"])("div",{id:"wp-msg-sentinel"},null,-1);Object(n["z"])();const Ft=Ut(((e,t,c,a,l,o)=>{const s=Object(n["G"])("q-card-section"),i=Object(n["G"])("q-card"),d=Object(n["G"])("q-scroll-area");return Object(n["y"])(),Object(n["g"])("div",Mt,[Object(n["j"])(d,{class:"fit"},{default:Ut((()=>[(Object(n["y"])(!0),Object(n["g"])(n["a"],null,Object(n["E"])(e.messages,(e=>(Object(n["y"])(),Object(n["g"])("div",{key:e.id,class:"m-"+e.type},[Object(n["j"])(i,{class:"wp-msg-card",bordered:""},{default:Ut((()=>[Object(n["j"])(s,{class:["wp-msg-card-sect text-subtitle2 text-bold text-white","c-"+e.type]},{default:Ut((()=>[Object(n["j"])("span",Lt,[Object(n["j"])("b",null,Object(n["I"])(e.timestamp),1),Object(n["i"])(" - "+Object(n["I"])(e.title),1)])])),_:2},1032,["class"]),e.text.length>0?(Object(n["y"])(),Object(n["g"])(s,{key:0,class:"wp-msg-card-sect"},{default:Ut((()=>[Object(n["i"])(Object(n["I"])(e.text),1)])),_:2},1024)):Object(n["h"])("",!0),e.mono_text.length>0?(Object(n["y"])(),Object(n["g"])(s,{key:1,class:"wp-msg-card-sect text-mono text-caption"},{default:Ut((()=>[Object(n["j"])("pre",null,Object(n["I"])(e.mono_text),1)])),_:2},1024)):Object(n["h"])("",!0)])),_:2},1024)],2)))),128)),Bt])),_:1})])}));var Kt=c("0831");const{getScrollTarget:Ht,setVerticalScrollPosition:$t,getScrollHeight:zt}=Kt["a"];var Rt=Object(n["k"])((function(){const e=Object(x["b"])(),t=Object(n["e"])((()=>e.state.messages.messages)),c=Object(n["e"])((()=>e.state.messages.message_update)),a=Object(n["e"])((()=>e.state.messages.autoscroll));var l=null;const o=async()=>{await Object(n["p"])();const e=document.getElementById("wp-msg-sentinel"),t=Ht(e),c=zt(t);$t(t,c)},s=t=>{t?(clearInterval(l),l=setInterval((function(){e.commit("messages/pushMessagesFromBufferToState")}),500)):clearInterval(l)};return Object(n["M"])(a,(()=>{1==a.value?s(!0):s(!1)})),Object(n["v"])((()=>{1==a.value?s(!0):o()})),Object(n["w"])((()=>{s(!1)})),Object(n["M"])(c,(()=>{1==a.value&&o()})),{messages:t}})),Wt=(c("13e3"),c("4983"));Rt.render=Ft,Rt.__scopeId="data-v-5ef2e39a";var Jt=Rt;U()(Rt,"components",{QScrollArea:Wt["a"],QCard:I["a"],QCardSection:Q["a"]});var Yt=Object(n["k"])({components:{MessageList:Jt},props:{},setup(e){const t=Object(x["b"])(),c=["Normal","Important"],a=Object(n["D"])(""),l=Object(n["D"])(""),o=Object(n["D"])(""),s=Object(n["D"])(""),i=Object(n["D"])(c[0]),d=Object(n["D"])(t.state.messages.autoscroll);async function r(){const e={type:"hex",payload:a.value,addr:l.value,src_ep:o.value,dest_ep:s.value,qos:i.value==c[0]?"normal":"important",init_delay_ms:0};Object(z["c"])("send-data",e).then((()=>{}))}return Object(z["b"])(),Object(n["M"])(d,(()=>{t.commit("messages/setAutoscrollState",d.value)})),{sendData:r,dataToSend:a,destAddress:l,srcEndpoint:o,destEndpoint:s,QoS:i,QoSOptions:c,autoscroll:d}}});c("d1e8");Yt.render=Pt,Yt.__scopeId="data-v-c6450770";var Xt=Yt;U()(Yt,"components",{QPage:S["a"],QCard:I["a"],QCardSection:Q["a"],QInput:J["a"],QTooltip:Y["a"],QBtn:D["a"],QSelect:Ot["a"],QCheckbox:X["a"]});const Zt={class:"fullscreen bg-blue text-white text-center q-pa-md flex flex-center"},ec=Object(n["j"])("div",{style:{"font-size":"30vh"}},"404",-1),tc=Object(n["j"])("div",{class:"text-h2",style:{opacity:"0.4"}},"Oops. Nothing here...",-1);function cc(e,t,c,a,l,o){const s=Object(n["G"])("q-btn");return Object(n["y"])(),Object(n["g"])("div",Zt,[Object(n["j"])("div",null,[ec,tc,Object(n["j"])(s,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/",label:"Go Home","no-caps":""})])])}var nc=Object(n["k"])({name:"PageError404"});nc.render=cc;var ac=nc;U()(nc,"components",{QBtn:D["a"]});const lc=[{path:"/",component:()=>Promise.all([c.e(0),c.e(2)]).then(c.bind(null,"713b")),children:[{path:"",component:M},{path:"mqtt-connection",component:Z},{path:"serial-connection",component:ne},{path:"gateways-and-sinks",component:ke},{path:"gateways-and-sinks/config/:gw/:sink",component:mt},{path:"messages",component:Xt}]},{path:"/:catchAll(.*)*",component:ac}];var oc=lc,sc=Object(u["route"])((function(){const e=b["b"],t=Object(b["a"])({scrollBehavior:()=>({left:0,top:0}),routes:oc,history:e("")});return t})),ic=async function(e){const t="function"===typeof r["default"]?await Object(r["default"])({}):r["default"],{storeKey:n}=await Promise.resolve().then(c.bind(null,"4360")),l="function"===typeof sc?await sc({store:t}):sc;t.$router=l;const s=e(d);return s.use(a["a"],o),{app:s,store:t,storeKey:n,router:l}};const dc="";async function rc({app:e,router:t,store:c,storeKey:n},a){let l=!1;const o=e=>{l=!0;const c=Object(e)===e?t.resolve(e).fullPath:e;window.location.href=c},s=window.location.href.replace(window.location.origin,"");for(let d=0;!1===l&&d<a.length;d++)try{await a[d]({app:e,router:t,store:c,ssrContext:null,redirect:o,urlPath:s,publicPath:dc})}catch(i){return i&&i.url?void(window.location.href=i.url):void console.error("[Quasar] boot error:",i)}!0!==l&&(e.use(t),e.use(c,n),e.mount("#q-app"))}ic(n["f"]).then((e=>Promise.all([Promise.resolve().then(c.bind(null,"8847")),Promise.resolve().then(c.bind(null,"758b"))]).then((t=>{const c=t.map((e=>e.default)).filter((e=>"function"===typeof e));rc(e,c)}))))},"31cd":function(e,t,c){},"3bfb":function(e,t,c){"use strict";c.d(t,"a",(function(){return a})),c.d(t,"c",(function(){return l})),c.d(t,"b",(function(){return s}));c("e6cf");var n=c("5502");async function a(e){const t={method:"GET",cache:"no-cache"},c=await fetch("http://localhost:1414/api/"+e,t);if(console.log(c),!c.ok)return null;const n=await c.json();return console.log(n),n}async function l(e,t){const c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},n=await fetch("http://localhost:1414/api/"+e,c);if(console.log(n),!n.ok)return null;const a=await n.json();return console.log(a),a}let o=null;async function s(){const e=Object(n["b"])();o||(o=new WebSocket("ws://localhost:1414/api/websocket"),o.onopen=function(){},o.onclose=function(){o=null},o.onmessage=function(t){let c=JSON.parse(t.data);const n={id:null,type:"type"in c?c.type:"info",timestamp:"timestamp"in c?c.timestamp:null,title:"title"in c?c.title:null,text:"text"in c?c.text:null,mono_text:"mono_text"in c?c.mono_text:null};e.commit("messages/addMessage",n)})}},4360:function(e,t,c){"use strict";c.r(t);var n={};c.r(n),c.d(n,"updateConnectionId",(function(){return b})),c.d(n,"updateConnections",(function(){return j})),c.d(n,"updateGatewaysAndSinks",(function(){return O})),c.d(n,"updateConnectionState",(function(){return m}));var a={};c.r(a),c.d(a,"loadConnections",(function(){return f})),c.d(a,"openConnection",(function(){return h})),c.d(a,"closeConnection",(function(){return g})),c.d(a,"deleteConnection",(function(){return v})),c.d(a,"loadGatewaysAndSinks",(function(){return y}));var l={};c.r(l),c.d(l,"setMaxLength",(function(){return C})),c.d(l,"pushMessagesFromBufferToState",(function(){return I})),c.d(l,"addMessage",(function(){return Q})),c.d(l,"setAutoscrollState",(function(){return V}));var o={};c.r(o),c.d(o,"default",(function(){return E}));var s=c("4bde"),i=c("5502");const d=Object.freeze({IDLE:0,LOADING:1,OPENING:2,CLOSING:3,CONNECTED:4});var r=function(){return{connectionStatesEnum:d,connectionId:null,connections:[],gateways:[],connectionState:d.IDLE}},u=c("e2f3");const b=(e,t)=>{e.connectionId=t},j=(e,t)=>{e.connections=t},O=(e,t)=>{e.gateways=t},m=(e,t)=>{e.connectionState=t};c("e6cf");var p=c("3bfb");async function f(e){e.commit("updateConnectionState",e.state.connectionStatesEnum.LOADING);const t=await Object(p["a"])("list-mqtt");t&&(e.commit("updateConnections",t.mqtt),e.commit("updateConnectionId",t.conn_id)),e.commit("updateConnectionState",e.state.connectionStatesEnum.IDLE)}async function h(e,t){e.commit("updateConnectionState",e.state.connectionStatesEnum.OPENING);const c=await Object(p["c"])("open-mqtt",{conn_id:t});c?(e.commit("updateGatewaysAndSinks",[]),e.dispatch("loadConnections"),e.commit("updateConnectionState",e.state.connectionStatesEnum.CONNECTED)):e.commit("updateConnectionState",e.state.connectionStatesEnum.IDLE)}async function g(e){e.commit("updateConnectionState",e.state.connectionStatesEnum.CLOSING);await Object(p["c"])("close-mqtt",{});e.commit("updateConnectionId",null),e.commit("updateGatewaysAndSinks",[]),e.dispatch("loadConnections")}async function v(e,t){const c=await Object(p["c"])("del-mqtt",{conn_id:t});c?e.dispatch("loadConnections"):e.commit("updateConnectionState",e.state.connectionStatesEnum.IDLE)}async function y(e){e.commit("updateConnectionState",e.state.connectionStatesEnum.LOADING);const t=await Object(p["a"])("get-gws-sinks");t&&e.commit("updateGatewaysAndSinks",t.gws),e.commit("updateConnectionState",e.state.connectionStatesEnum.IDLE)}var w={namespaced:!0,state:r,getters:u,mutations:n,actions:a},k=function(){return{messages:[],max_length:100,next_id:0,message_update:0,autoscroll:!0}},_=c("8ccb"),x=(c("7937"),c("f644"));const q=[];const C=(e,t)=>{e.max_length=t;const c=e.messages.length;c>t&&e.messages.splice(0,c-t)},S=(e,t,c)=>{const n=e.length;t.length;n>=c&&e.splice(0,t.length),t.forEach((t=>e.push(t)))},I=e=>{S(e.messages,q,e.max_length),q.splice(0,q.length),e.message_update+=1,!0},Q=(e,t)=>{t.id=e.next_id,e.next_id+=1,t.timestamp||(t.timestamp=Object(x["a"])(null)),S(q,[t],e.max_length)},V=(e,t)=>{e.autoscroll=t,t&&I(e)};var E=function(){return{messages:[]}},G={namespaced:!0,state:k,getters:_,mutations:l,actions:o};t["default"]=Object(s["store"])((function(){const e=Object(i["a"])({modules:{mqtt:w,messages:G},strict:!1});return e}))},"6f91":function(e,t,c){"use strict";c("e08a")},"723b":function(e,t,c){"use strict";c("8280")},"758b":function(e,t,c){"use strict";c.r(t),c.d(t,"api",(function(){return o}));var n=c("4bde"),a=c("bc3a"),l=c.n(a);c.d(t,"axios",(function(){return l.a}));const o=l.a.create({baseURL:"https://api.example.com"});t["default"]=Object(n["boot"])((({app:e})=>{e.config.globalProperties.$axios=l.a,e.config.globalProperties.$api=o}))},8280:function(e,t,c){},8847:function(e,t,c){"use strict";c.r(t),c.d(t,"i18n",(function(){return s}));var n=c("4bde"),a=c("47e2"),l={failed:"Action failed",success:"Action was successful"},o={"en-US":l};const s=Object(a["a"])({locale:"en-US",messages:o});t["default"]=Object(n["boot"])((({app:e})=>{e.use(s)}))},"8ccb":function(e,t){},9031:function(e,t,c){},d1e8:function(e,t,c){"use strict";c("9031")},e08a:function(e,t,c){},e10b:function(e,t,c){},e2f3:function(e,t){},ec2e:function(e,t,c){"use strict";c("06cd")},f644:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c("4d90");const n=(e,t)=>e.toString().padStart(t,"0"),a=(e=null)=>(null===e&&(e=new Date),n(e.getFullYear(),4)+"-"+n(e.getMonth()+1,2)+"-"+n(e.getDate(),2)+" "+n(e.getHours(),2)+":"+n(e.getMinutes(),2)+":"+n(e.getSeconds(),2))}});