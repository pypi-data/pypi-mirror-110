(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[39],{1149:function(e,t,n){"use strict";n.r(t),n.d(t,"RegisterModelButton",(function(){return b}));var o=n(547),a=n(0),l=n(606),r=n(1138),i=n(1160),c=n(691),d=n(568),u=n(502),m=n(1163),s=n(1150),v=n(508),f=n.n(v),p=n(507),g=n(18),b=Object(a.memo)((function(e){var t,n,v,b,h=l.a.Option,y=a.useState(!1),E=Object(o.a)(y,2),k=E[0],C=E[1],S=a.useState([]),_=Object(o.a)(S,2),O=_[0],w=_[1],M=a.useState(""),R=Object(o.a)(M,2),j=R[0],x=R[1],A=function(){C(!1),x("")},F=!e.run.model_definition,J=!!e.run.ml_model,L=Object(g.f)();var z=i.a.Text;return a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement(c.b,{direction:"vertical",size:"small"},a.createElement(d.a,{title:J?"Model already registered to ".concat(null===(t=e.run.ml_model)||void 0===t?void 0:t.name," as ").concat(null===(n=e.run.ml_model)||void 0===n?void 0:n.version):F?"Model cannot be registered":"Add model to a model registry"},a.createElement(u.a,{type:"primary",onClick:function(){C(!0),f.a.get(p.b).then((function(e){return w(e.data)})).catch((function(e){return console.log(e)}))},disabled:F||J},"Register")),J&&a.createElement(z,{type:"secondary"},"Model",a.createElement("a",{onClick:function(){var t,n;L.push("/models/".concat(null===(t=e.run.ml_model)||void 0===t?void 0:t.name,"/").concat(null===(n=e.run.ml_model)||void 0===n?void 0:n.version))}}," ".concat(null===(v=e.run.ml_model)||void 0===v?void 0:v.name,": ").concat(null===(b=e.run.ml_model)||void 0===b?void 0:b.version)))),a.createElement(m.a,{title:"Register Modal to Registry",visible:k,onCancel:A,footer:[a.createElement(u.a,{key:"cancel",onClick:A},"Cancel"),a.createElement(u.a,{key:"submit",type:"primary",onClick:function(){j&&f.a.post("".concat(p.b),{name:j,run_id:e.run.id}).then((function(t){r.b.success("Added model to ".concat(j)),A(),e.onClick&&e.onClick()})).catch((function(e){r.b.error(e.message)}))},disabled:0===j.length},"Register")]},a.createElement("p",null,"Select a existing or type the name of a new Model Registry"),a.createElement(s.a,{style:{width:"100%"},placeholder:"Select a existing or type the name of a new Model Registry",optionFilterProp:"children",filterOption:function(e,t){return!!t&&t.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:function(e){return x(String(e))},onSearch:x,onSelect:function(e){return x(String(e))}},O.map((function(e,t){return a.createElement(h,{key:t,value:e.name},e.name)}))))))}))}}]);